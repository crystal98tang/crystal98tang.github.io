---
title: "HTTP"
date: 2019-02-28
categories: 
- 网络
tags:
- HTTP
- 网络
---
（原创 - 参考于《网络是怎样连接的》、HTTP RFC）

==第一周WEB JAVA作业（2）==

<!-- more -->

在介绍众多的网络协议前，让我们先探索一下浏览器的工作方式。

* * *
1. 打开浏览器（Chrome、Firefox、IE）
2. 输入网址（URL），回车，生成HTTP请求，然后…

![ ](https://i.loli.net/2019/03/03/5c7bd3d96e16a.jpg)

吃瓜观众：什么？什么URL？什么HTTP？

* * *

## URL

URL（Uniform Resource Locator）统一资源定位符，俗称“网址”，除了常见的http:、https:，网址还可以以其他单词开头，如ftp:、file:、mailto:

根据访问目标的不同，URL 的写法也会不同。

* * *

根据HTTP 的规格，URL 包含图1.2（a）中的这几种元素。当对URL进行解析时，首先需要按照图1.2（a）的格式将其中的各个元素拆分出来，例如图1.2（b）中的URL 会拆分成图1.2（c）的样子。然后，通过拆分出来的这些元素，我们就能够明白URL 代表的含义。例如，我们来看拆分结果图1.2（c），其中包含Web 服务器名称 www.lab.glasscom.com，以及文件的路径名/dir1/file1.html，因此我们就能够明白，图1.2（b）中的URL 表示要访问 www.lab.glasscom.com 这个Web 服务器上路径名为/dir/file1.html 的文件，也就是位于/dir/ 目录D 下的file1.html 这个文件（图1.3）

![URL 的各种格式](https://i.loli.net/2019/03/03/5c7bd6c79fbd4.png)


![web解析URL的过程](https://i.loli.net/2019/03/03/5c7bd752c45ce.png)

## HTTP

![http基本思路](https://i.loli.net/2019/03/03/5c7bd9160ed05.png)

HTTP 协议定义了客户端和服务器之间交互的消息内容和步骤，其基本思路非常简单。首先，客户端会向服务器发送请求消息（图1.4）。请求消息中包含的内容是“对什么”和“进行怎样的操作”两个部分。其中相当于“对什么”的部分称为URIA。一般来说，URI 的内容是一个存放网页数据的文件名或者是一个CGI 程序的文件名，例如“/dir1/file1.html” “/dir1/program1.cgi”等。不过，URI 不仅限于此，也可以直接使用“http:” 开头的URLD 来作为URI。换句话说就是，这里可以写各种访问目标，而这些访问目标统称为URI。

相当于接下来“进行怎样的操作”的部分称为方法。方法表示需要让Web 服务器完成怎样的工作，其中典型的例子包括读取URI 表示的数据、将客户端输入的数据发送给URI 表示的程序等。表1.1 列举了主要的方法，通过这张表大家应该能够理解通过方法可以执行怎样的操作。

![http-4.png](https://i.loli.net/2019/03/03/5c7bd91707ab0.png)

* * *
理解了HTTP 的基本知识之后，让我们回到对浏览器本身的探索中来。
对URL 进行解析之后，浏览器确定了Web 服务器和文件名，接下来就是根据这些信息来生成HTTP 请求消息了。实际上，HTTP 消息在格式上是有严格规定的，因此浏览器会按照规定的格式来生成请求消息（图1.5）。

首先，请求消息的第一行称为请求行。这里的重点是最开头的方法，方法可以告诉Web 服务器它应该进行怎样的操作。不过这里必须先解决一个问题，那就是方法有很多种，我们必须先判断应该选用其中的哪一种。解决这个问题的关键在于浏览器的工作状态。这次探索之旅是从在浏览器顶部的地址栏中输入网址开始的，但浏览器并非只有在这一种场景下才会向Web 服务器发送请求消息。比如点击网页中的超级链接，或者在表单中填写信息后点击“提交”按钮，这些场景都会触发浏览器的工作，而选用哪种方法也是根据场景来确定的。

![http消息格式](https://i.loli.net/2019/03/03/5c7bda4668232.png)

